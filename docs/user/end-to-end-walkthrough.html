
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>End-to-end walkthrough &#8212; C-PAC 1.6.0 Beta documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="C-PAC Quickstart" href="quick.html" />
    <link rel="prev" title="Welcome to C-PAC’s Documentation!" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="quick.html" title="C-PAC Quickstart"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to C-PAC’s Documentation!"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">C-PAC 1.6.0 Beta documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="end-to-end-walkthrough">
<h1>End-to-end walkthrough<a class="headerlink" href="#end-to-end-walkthrough" title="Permalink to this headline">¶</a></h1>
<p>This walkthrough is intended to orient a new user to the Configurable
Pipeline for the Analysis of Connectomes (C-PAC). This guide is not a
complete reference for all of the options available in C-PAC (for all
documented options, consult <a class="reference external" href="http://fcp-indi.github.io/docs/user/running.html">Running
C-PAC</a>); rather,
this guide is a step-by-step tutorial for familiarizing oneself with the
software.</p>
<div class="section" id="about-the-format-of-this-guide">
<h2>About the format of this guide<a class="headerlink" href="#about-the-format-of-this-guide" title="Permalink to this headline">¶</a></h2>
<p>This guide is presented in a <a class="reference external" href="https://jupyter.org/">Jupyter notebook</a>
running <a class="reference external" href="https://pypi.org/project/bash_kernel/">bash_kernel</a>. If you
install Jupyter and bash_kernel on your own machine, you can <a class="reference external" href="https://github.com/shnizzedy/fcp-indi.github.com/blob/source/docs/user/_sources/end-to-end-walkthrough.ipynb">download
this
notebook</a>
and run the cells interactively. The outputs below the code cells are
the actual outputs of the code in those cells.</p>
<div class="section" id="contents">
<h3>Contents<a class="headerlink" href="#contents" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><a class="reference external" href="#Configuration">Configuration</a></li>
<li><a class="reference external" href="#General-configuration">General configuration</a></li>
<li><a class="reference external" href="#Anatomical-configuration">Anatomical configuration</a></li>
<li><a class="reference external" href="#Functional-configuration">Functional configuration</a></li>
<li><a class="reference external" href="#Derivatives-configuration">Derivatives configuration</a></li>
<li><a class="reference external" href="#Local-requirements">Local requirements</a></li>
<li><a class="reference external" href="#Software-and-environment-requirements">Software and environment
requirements</a></li>
<li><a class="reference external" href="#Data-requirements">Data requirements</a></li>
<li><a class="reference external" href="#Running-C-PAC">Running C-PAC</a></li>
</ol>
</div>
<div class="section" id="configuration">
<h3>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h3>
<p>Configuring a pipeline for ananylzing connectomes is so central to C-PAC
that that step of the process is the source of the project’s name.
Before we run C-PAC, we need to define what we want C-PAC to run.</p>
<p>An <a class="reference external" href="https://fcp-indi.github.io/C-PAC_GUI/versions/latest/browser/#/">interactive
GUI</a>
is available to browse and download the default pipeline configuration
as a YAML file. You can also duplicate the default pipeline, edit, and
download your custom configuration file. We’ll walk through the default
configuration here.</p>
<div class="section" id="general-configuration">
<h4>General configuration<a class="headerlink" href="#general-configuration" title="Permalink to this headline">¶</a></h4>
<p>Immediately upon navigating to the
<a class="reference external" href="https://fcp-indi.github.io/C-PAC_GUI/versions/latest/browser/#/">GUI</a>,
you should see a section titled “Pipelines” which should contain a card
titled “Default” with a subtitle corresponding to the latest C-PAC
release (1.6.0 in this screenshot).</p>
<div class="figure" id="id1">
<img alt="C-PAC GUI screenshot: Pipelines: Default: C-PAC 1.6.0" src="_images/pipelines-default.png" />
<p class="caption"><span class="caption-text">C-PAC GUI screenshot: Pipelines: Default: C-PAC 1.6.0</span></p>
</div>
<p>In addition to the title and subtitle, the card shows which sections
(anatomical, functional, derivatives) are included in that particular
configuration. The controls at the bottom are duplicate, delete, and
edit. (The “delete” control is not included on the default pipeline.)
Clicking the “Edit” control navigates into that configuration, the first
tab of which is “General”.</p>
<div class="figure" id="id2">
<img alt="C-PAC GUI screenshot: Pipelines: Default: General" src="_images/default-general.png" />
<p class="caption"><span class="caption-text">C-PAC GUI screenshot: Pipelines: Default: General</span></p>
</div>
<p>To the right of each option in the GUI is a question mark in a circle.
Clicking one of these question marks will open a hovering box containing
a brief description of the option and show that option as configured
highlighted in the YAML generated by the GUI.</p>
</div>
<div class="section" id="anatomical-configuration">
<h4>Anatomical configuration<a class="headerlink" href="#anatomical-configuration" title="Permalink to this headline">¶</a></h4>
<p>The second tab in the GUI is “Anatomical”, which contans options for *
Initial Preprocessing * Skull stripping * Registration * Tissue
Segmentation</p>
</div>
<div class="section" id="functional-configuration">
<h4>Functional configuration<a class="headerlink" href="#functional-configuration" title="Permalink to this headline">¶</a></h4>
<p>The third tab in the GUI is “Functional”, which has an on-off toggle and
contains options for * Initial Preprocessing * Slice Timing Correction
* Functional to Anatomical Registration * Functional to Template
Registration * Functional to EPI Registration * Distortion Correction
* ICA AROMA * Nuisance Regression * Median Angle Correction *
Smoothing / Z-Scoring</p>
</div>
<div class="section" id="derivatives-configuration">
<h4>Derivatives configuration<a class="headerlink" href="#derivatives-configuration" title="Permalink to this headline">¶</a></h4>
<p>The fourth and final tab in the GUI is “Derivatives” which contains
options for * Time Series Extraction * Seed-based Correlation * ALFF
/ f-ALFF * Network Centrality * Voxel-Mirrored Homotopic Connectivity
(VMHC) * Regional Homogeneity * PyPEER</p>
</div>
</div>
<div class="section" id="local-requirements">
<h3>Local requirements<a class="headerlink" href="#local-requirements" title="Permalink to this headline">¶</a></h3>
<div class="section" id="software-and-environment-requirements">
<h4>Software and environment requirements<a class="headerlink" href="#software-and-environment-requirements" title="Permalink to this headline">¶</a></h4>
</div>
</div>
</div>
<div class="section" id="singularity">
<h2>Singularity<a class="headerlink" href="#singularity" title="Permalink to this headline">¶</a></h2>
<p>Singularity has an <a class="reference external" href="https://sylabs.io/guides/3.0/user-guide/installation.html">Installation user
guide</a>.
Once you (think you) have Singularity installed, you can check by
running <code class="docutils literal notranslate"><span class="pre">singularity</span> <span class="pre">--version</span></code> in a terminal.</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">singularity</span> <span class="o">--</span><span class="n">version</span>
</pre></div>
</div>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">singularity</span> <span class="n">pull</span> <span class="n">shub</span><span class="p">:</span><span class="o">//</span><span class="n">FCP</span><span class="o">-</span><span class="n">INDI</span><span class="o">/</span><span class="n">C</span><span class="o">-</span><span class="n">PAC</span>
</pre></div>
</div>
<div class="section" id="running-c-pac">
<h3>Running C-PAC<a class="headerlink" href="#running-c-pac" title="Permalink to this headline">¶</a></h3>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>mkdir -p $HOME/CPAC-data/anat/outputs
mkdir -p $HOME/CPAC-data/anat/tmp
</pre></div>
</div>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>singularity run \
  -B $HOME/CPAC-data/anat/outputs:/outputs \
  -B $HOME/CPAC-data/anat/tmp:/scratch \
  C-PAC_latest.sif \
  s3://fcp-indi/data/Projects/ADHD200/RawDataBIDS/NYU \
  /outputs participant \
  --pipeline_file configs/BasicAnatomical.yml \
  --participant_ndx 1
</pre></div>
</div>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>mkdir -p $HOME/CPAC-data/reg/outputs
mkdir -p $HOME/CPAC-data/reg/tmp
</pre></div>
</div>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>singularity run \
  -B $HOME/CPAC-data/reg/outputs:/outputs \
  -B $HOME/CPAC-data/reg/tmp:/scratch \
  C-PAC_latest.sif \
  s3://fcp-indi/data/Projects/ADHD200/RawDataBIDS/NYU \
  /outputs participant \
  --pipeline_file configs/BasicAnatomical+Registration.yml \
  --participant_ndx 1
</pre></div>
</div>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>mkdir -p $HOME/CPAC-data/func/outputs
mkdir -p $HOME/CPAC-data/func/tmp
</pre></div>
</div>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>singularity run \
  -B $HOME/CPAC-data/func/outputs:/outputs \
  -B $HOME/CPAC-data/func/tmp:/scratch \
  C-PAC_latest.sif \
  s3://fcp-indi/data/Projects/ADHD200/RawDataBIDS/NYU \
  /outputs participant \
  --pipeline_file configs/BasicAnatomical+Registration+Functional.yml \
  --participant_ndx 1
</pre></div>
</div>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>mkdir -p $HOME/CPAC-data/default/outputs
mkdir -p $HOME/CPAC-data/default/tmp
</pre></div>
</div>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>singularity run \
  -B $HOME/CPAC-data/outputs:/outputs \
  -B $HOME/CPAC-data/tmp:/scratch \
  C-PAC_latest.sif \
  s3://fcp-indi/data/Projects/ADHD200/RawDataBIDS/NYU \
  /outputs participant \
  --pipeline_file configs/Default.yml \
  --participant_ndx 1
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/cpac_logo_vertical.png" alt="Logo"/>
            </a></p>
<h3><a href="index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">1. End-to-end walkthrough</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#about-the-format-of-this-guide">About the format of this guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="#singularity">Singularity</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quick.html">2. C-PAC Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="subject_list_config.html">3. Specify Your Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="pipeline_config.html">4. Select Your Pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="preprocessing.html">5. Pre-Process Your Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="derivatives.html">6. Compute Derivatives</a></li>
<li class="toctree-l1"><a class="reference internal" href="running.html">7. All Run Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_analysis.html">8. Run Group Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="output_dir.html">9. Check Your Outputs</a></li>
<li class="toctree-l1"><a class="reference internal" href="help.html">10. Troubleshoot</a></li>
<li class="toctree-l1"><a class="reference internal" href="rnotes.html">11. Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendix.html">12. Appendix</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="quick.html" title="C-PAC Quickstart"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to C-PAC’s Documentation!"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">C-PAC 1.6.0 Beta documentation</a> &#187;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, C-PAC Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-19224662-10"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-19224662-10');
    </script>

  </body>
</html>