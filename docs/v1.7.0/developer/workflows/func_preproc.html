
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Functional Preprocessing &#8212; C-PAC 1.7.0 Beta documentation</title>
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex" />
    <link rel="search" title="Search" href="../../search" />
    <link rel="next" title="Segmentation Workflow" href="seg_preproc" />
    <link rel="prev" title="Anatomical Preprocessing" href="anat_preproc" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="seg_preproc" title="Segmentation Workflow"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="anat_preproc" title="Anatomical Preprocessing"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index">C-PAC 1.7.0 Beta documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index" >Welcome to CPAC’s developer documentation!</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index" accesskey="U">Workflows</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-CPAC.func_preproc">
<span id="functional-preprocessing"></span><h1>Functional Preprocessing<a class="headerlink" href="#module-CPAC.func_preproc" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="CPAC.func_preproc.create_func_preproc">
<code class="descclassname">CPAC.func_preproc.</code><code class="descname">create_func_preproc</code><span class="sig-paren">(</span><em>skullstrip_tool</em>, <em>motion_correct_tool</em>, <em>motion_correct_ref</em>, <em>config=None</em>, <em>wf_name='func_preproc'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/CPAC/func_preproc/func_preproc#create_func_preproc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#CPAC.func_preproc.create_func_preproc" title="Permalink to this definition">¶</a></dt>
<dd><p>The main purpose of this workflow is to process functional data. Raw rest file is deobliqued and reoriented
into RPI. Then take the mean intensity values over all time points for each voxel and use this image
to calculate motion parameters. The image is then skullstripped, normalized and a processed mask is
obtained to use it further in Image analysis.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>wf_name</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string</span></dt>
<dd><p class="first last">Workflow name</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>func_preproc</strong> <span class="classifier-delimiter">:</span> <span class="classifier">workflow object</span></dt>
<dd><p class="first last">Functional Preprocessing workflow object</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p><a class="reference external" href="https://github.com/FCP-INDI/C-PAC/blob/v1.7.0/CPAC/func_preproc/func_preproc.py">Source</a></p>
<p>Workflow Inputs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">inputspec</span><span class="o">.</span><span class="n">func</span> <span class="p">:</span> <span class="n">func</span> <span class="n">nifti</span> <span class="n">file</span>
    <span class="n">User</span> <span class="nb">input</span> <span class="n">functional</span><span class="p">(</span><span class="n">T2</span><span class="p">)</span> <span class="n">Image</span><span class="p">,</span> <span class="ow">in</span> <span class="nb">any</span> <span class="n">of</span> <span class="n">the</span> <span class="mi">8</span> <span class="n">orientations</span>

<span class="n">inputspec</span><span class="o">.</span><span class="n">twopass</span> <span class="p">:</span> <span class="n">boolean</span>
    <span class="n">Perform</span> <span class="n">two</span><span class="o">-</span><span class="k">pass</span> <span class="n">on</span> <span class="n">volume</span> <span class="n">registration</span>
</pre></div>
</div>
<p>Workflow Outputs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">outputspec</span><span class="o">.</span><span class="n">refit</span> <span class="p">:</span> <span class="n">string</span> <span class="p">(</span><span class="n">nifti</span> <span class="n">file</span><span class="p">)</span>
    <span class="n">Path</span> <span class="n">to</span> <span class="n">deobliqued</span> <span class="n">anatomical</span> <span class="n">data</span>

<span class="n">outputspec</span><span class="o">.</span><span class="n">reorient</span> <span class="p">:</span> <span class="n">string</span> <span class="p">(</span><span class="n">nifti</span> <span class="n">file</span><span class="p">)</span>
    <span class="n">Path</span> <span class="n">to</span> <span class="n">RPI</span> <span class="n">oriented</span> <span class="n">anatomical</span> <span class="n">data</span>

<span class="n">outputspec</span><span class="o">.</span><span class="n">motion_correct_ref</span> <span class="p">:</span> <span class="n">string</span> <span class="p">(</span><span class="n">nifti</span> <span class="n">file</span><span class="p">)</span>
     <span class="n">Path</span> <span class="n">to</span> <span class="n">Mean</span> <span class="n">intensity</span> <span class="n">Motion</span> <span class="n">corrected</span> <span class="n">image</span>
     <span class="p">(</span><span class="n">base</span> <span class="n">reference</span> <span class="n">image</span> <span class="k">for</span> <span class="n">the</span> <span class="n">second</span> <span class="n">motion</span> <span class="n">correction</span> <span class="n">run</span><span class="p">)</span>

<span class="n">outputspec</span><span class="o">.</span><span class="n">motion_correct</span> <span class="p">:</span> <span class="n">string</span> <span class="p">(</span><span class="n">nifti</span> <span class="n">file</span><span class="p">)</span>
    <span class="n">Path</span> <span class="n">to</span> <span class="n">motion</span> <span class="n">corrected</span> <span class="n">output</span> <span class="n">file</span>

<span class="n">outputspec</span><span class="o">.</span><span class="n">max_displacement</span> <span class="p">:</span> <span class="n">string</span> <span class="p">(</span><span class="n">Mat</span> <span class="n">file</span><span class="p">)</span>
    <span class="n">Path</span> <span class="n">to</span> <span class="n">maximum</span> <span class="n">displacement</span> <span class="p">(</span><span class="ow">in</span> <span class="n">mm</span><span class="p">)</span> <span class="k">for</span> <span class="n">brain</span> <span class="n">voxels</span> <span class="ow">in</span> <span class="n">each</span> <span class="n">volume</span>

<span class="n">outputspec</span><span class="o">.</span><span class="n">movement_parameters</span> <span class="p">:</span> <span class="n">string</span> <span class="p">(</span><span class="n">Mat</span> <span class="n">file</span><span class="p">)</span>
    <span class="n">Path</span> <span class="n">to</span> <span class="mi">1</span><span class="n">D</span> <span class="n">file</span> <span class="n">containing</span> <span class="n">six</span> <span class="n">movement</span><span class="o">/</span><span class="n">motion</span> <span class="n">parameters</span><span class="p">(</span><span class="mi">3</span> <span class="n">Translation</span><span class="p">,</span> <span class="mi">3</span> <span class="n">Rotations</span><span class="p">)</span>
    <span class="ow">in</span> <span class="n">different</span> <span class="n">columns</span> <span class="p">(</span><span class="n">roll</span> <span class="n">pitch</span> <span class="n">yaw</span> <span class="n">dS</span>  <span class="n">dL</span>  <span class="n">dP</span><span class="p">)</span>

<span class="n">outputspec</span><span class="o">.</span><span class="n">skullstrip</span> <span class="p">:</span> <span class="n">string</span> <span class="p">(</span><span class="n">nifti</span> <span class="n">file</span><span class="p">)</span>
    <span class="n">Path</span> <span class="n">to</span> <span class="n">skull</span> <span class="n">stripped</span> <span class="n">Motion</span> <span class="n">Corrected</span> <span class="n">Image</span>

<span class="n">outputspec</span><span class="o">.</span><span class="n">mask</span> <span class="p">:</span> <span class="n">string</span> <span class="p">(</span><span class="n">nifti</span> <span class="n">file</span><span class="p">)</span>
    <span class="n">Path</span> <span class="n">to</span> <span class="n">brain</span><span class="o">-</span><span class="n">only</span> <span class="n">mask</span>

<span class="n">outputspec</span><span class="o">.</span><span class="n">func_mean</span> <span class="p">:</span> <span class="n">string</span> <span class="p">(</span><span class="n">nifti</span> <span class="n">file</span><span class="p">)</span>
    <span class="n">Mean</span><span class="p">,</span> <span class="n">Skull</span> <span class="n">Stripped</span><span class="p">,</span> <span class="n">Motion</span> <span class="n">Corrected</span> <span class="n">output</span> <span class="n">T2</span> <span class="n">Image</span> <span class="n">path</span>
    <span class="p">(</span><span class="n">Image</span> <span class="k">with</span> <span class="n">mean</span> <span class="n">intensity</span> <span class="n">values</span> <span class="n">across</span> <span class="n">voxels</span><span class="p">)</span>

<span class="n">outputpsec</span><span class="o">.</span><span class="n">preprocessed</span> <span class="p">:</span> <span class="n">string</span> <span class="p">(</span><span class="n">nifti</span> <span class="n">file</span><span class="p">)</span>
    <span class="n">output</span> <span class="n">skull</span> <span class="n">stripped</span><span class="p">,</span> <span class="n">motion</span> <span class="n">corrected</span> <span class="n">T2</span> <span class="n">image</span>
    <span class="k">with</span> <span class="n">normalized</span> <span class="n">intensity</span> <span class="n">values</span>

<span class="n">outputspec</span><span class="o">.</span><span class="n">preprocessed_mask</span> <span class="p">:</span> <span class="n">string</span> <span class="p">(</span><span class="n">nifti</span> <span class="n">file</span><span class="p">)</span>
   <span class="n">Mask</span> <span class="n">obtained</span> <span class="kn">from</span> <span class="nn">normalized</span> <span class="n">preprocessed</span> <span class="n">image</span>
</pre></div>
</div>
<p>Order of commands:</p>
<ul>
<li><p class="first">Deobliqing the scans.  For details see <a class="reference external" href="http://afni.nimh.nih.gov/pub/dist/doc/program_help/3drefit.html">3drefit</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span><span class="n">drefit</span> <span class="o">-</span><span class="n">deoblique</span> <span class="n">rest_3dc</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
</pre></div>
</div>
</li>
<li><p class="first">Re-orienting the Image into Right-to-Left Posterior-to-Anterior Inferior-to-Superior (RPI) orientation. For details see <a class="reference external" href="http://afni.nimh.nih.gov/pub/dist/doc/program_help/3dresample.html">3dresample</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span><span class="n">dresample</span> <span class="o">-</span><span class="n">orient</span> <span class="n">RPI</span>
           <span class="o">-</span><span class="n">prefix</span> <span class="n">rest_3dc_RPI</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
           <span class="o">-</span><span class="n">inset</span> <span class="n">rest_3dc</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
</pre></div>
</div>
</li>
<li><p class="first">Calculate voxel wise statistics. Get the RPI Image with mean intensity values over all timepoints for each voxel. For details see <a class="reference external" href="http://afni.nimh.nih.gov/pub/dist/doc/program_help/3dTstat.html">3dTstat</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span><span class="n">dTstat</span> <span class="o">-</span><span class="n">mean</span>
        <span class="o">-</span><span class="n">prefix</span> <span class="n">rest_3dc_RPI_3dT</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
        <span class="n">rest_3dc_RPI</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
</pre></div>
</div>
</li>
<li><p class="first">Motion Correction. For details see <a class="reference external" href="http://afni.nimh.nih.gov/pub/dist/doc/program_help/3dvolreg.html">3dvolreg</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span><span class="n">dvolreg</span> <span class="o">-</span><span class="n">Fourier</span>
         <span class="o">-</span><span class="n">twopass</span>
         <span class="o">-</span><span class="n">base</span> <span class="n">rest_3dc_RPI_3dT</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span><span class="o">/</span>
         <span class="o">-</span><span class="n">zpad</span> <span class="mi">4</span>
         <span class="o">-</span><span class="n">maxdisp1D</span> <span class="n">rest_3dc_RPI_3dvmd1D</span><span class="o">.</span><span class="mi">1</span><span class="n">D</span>
         <span class="o">-</span><span class="mi">1</span><span class="n">Dfile</span> <span class="n">rest_3dc_RPI_3dv1D</span><span class="o">.</span><span class="mi">1</span><span class="n">D</span>
         <span class="o">-</span><span class="n">prefix</span> <span class="n">rest_3dc_RPI_3dv</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
         <span class="n">rest_3dc_RPI</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
</pre></div>
</div>
<p>The base image or the reference image is the mean intensity RPI image obtained in the above the step.For each volume
in RPI-oriented T2 image, the command, aligns the image with the base mean image and calculates the motion, displacement
and movement parameters. It also outputs the aligned 4D volume and movement and displacement parameters for each volume.</p>
</li>
<li><p class="first">Calculate voxel wise statistics. Get the motion corrected output Image from the above step, with mean intensity values over all timepoints for each voxel.
For details see <a class="reference external" href="http://afni.nimh.nih.gov/pub/dist/doc/program_help/3dTstat.html">3dTstat</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span><span class="n">dTstat</span> <span class="o">-</span><span class="n">mean</span>
        <span class="o">-</span><span class="n">prefix</span> <span class="n">rest_3dc_RPI_3dv_3dT</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
        <span class="n">rest_3dc_RPI_3dv</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
</pre></div>
</div>
</li>
<li><p class="first">Motion Correction and get motion, movement and displacement parameters. For details see <a class="reference external" href="http://afni.nimh.nih.gov/pub/dist/doc/program_help/3dvolreg.html">3dvolreg</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span><span class="n">dvolreg</span> <span class="o">-</span><span class="n">Fourier</span>
         <span class="o">-</span><span class="n">twopass</span>
         <span class="o">-</span><span class="n">base</span> <span class="n">rest_3dc_RPI_3dv_3dT</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
         <span class="o">-</span><span class="n">zpad</span> <span class="mi">4</span>
         <span class="o">-</span><span class="n">maxdisp1D</span> <span class="n">rest_3dc_RPI_3dvmd1D</span><span class="o">.</span><span class="mi">1</span><span class="n">D</span>
         <span class="o">-</span><span class="mi">1</span><span class="n">Dfile</span> <span class="n">rest_3dc_RPI_3dv1D</span><span class="o">.</span><span class="mi">1</span><span class="n">D</span>
         <span class="o">-</span><span class="n">prefix</span> <span class="n">rest_3dc_RPI_3dv</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
         <span class="n">rest_3dc_RPI</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
</pre></div>
</div>
<p>The base image or the reference image is the mean intensity motion corrected image obtained from the above the step (first 3dvolreg run).
For each volume in RPI-oriented T2 image, the command, aligns the image with the base mean image and calculates the motion, displacement
and movement parameters. It also outputs the aligned 4D volume and movement and displacement parameters for each volume.</p>
</li>
<li><p class="first">Create a brain-only mask. For details see <a class="reference external" href="http://afni.nimh.nih.gov/pub/dist/doc/program_help/3dAutomask.html">3dautomask</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span><span class="n">dAutomask</span>
           <span class="o">-</span><span class="n">prefix</span> <span class="n">rest_3dc_RPI_3dv_automask</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
           <span class="n">rest_3dc_RPI_3dv</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
</pre></div>
</div>
</li>
<li><p class="first">Edge Detect(remove skull) and get the brain only. For details see <a class="reference external" href="http://afni.nimh.nih.gov/pub/dist/doc/program_help/3dcalc.html">3dcalc</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span><span class="n">dcalc</span> <span class="o">-</span><span class="n">a</span> <span class="n">rest_3dc_RPI_3dv</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
       <span class="o">-</span><span class="n">b</span> <span class="n">rest_3dc_RPI_3dv_automask</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
       <span class="o">-</span><span class="n">expr</span> <span class="s1">&#39;a*b&#39;</span>
       <span class="o">-</span><span class="n">prefix</span> <span class="n">rest_3dc_RPI_3dv_3dc</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
</pre></div>
</div>
</li>
<li><p class="first">Normalizing the image intensity values. For details see <a class="reference external" href="http://www.fmrib.ox.ac.uk/fsl/avwutils/index.html">fslmaths</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fslmaths</span> <span class="n">rest_3dc_RPI_3dv_3dc</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
         <span class="o">-</span><span class="n">ing</span> <span class="mi">10000</span> <span class="n">rest_3dc_RPI_3dv_3dc_maths</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
         <span class="o">-</span><span class="n">odt</span> <span class="nb">float</span>
</pre></div>
</div>
<p>Normalized intensity = (TrueValue*10000)/global4Dmean</p>
</li>
<li><p class="first">Calculate mean of skull stripped image. For details see <a class="reference external" href="http://afni.nimh.nih.gov/pub/dist/doc/program_help/3dTstat.html">3dTstat</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span><span class="n">dTstat</span> <span class="o">-</span><span class="n">mean</span> <span class="o">-</span><span class="n">prefix</span> <span class="n">rest_3dc_RPI_3dv_3dc_3dT</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span> <span class="n">rest_3dc_RPI_3dv_3dc</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
</pre></div>
</div>
</li>
<li><p class="first">Create Mask (Generate mask from Normalized data). For details see <a class="reference external" href="http://www.fmrib.ox.ac.uk/fsl/avwutils/index.html">fslmaths</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fslmaths</span> <span class="n">rest_3dc_RPI_3dv_3dc_maths</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
       <span class="o">-</span><span class="n">Tmin</span> <span class="o">-</span><span class="nb">bin</span> <span class="n">rest_3dc_RPI_3dv_3dc_maths_maths</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
       <span class="o">-</span><span class="n">odt</span> <span class="n">char</span>
</pre></div>
</div>
</li>
</ul>
<div class="admonition error">
<p class="first admonition-title">Error</p>
<p>Unable to execute python code at exec.py:31:</p>
<p class="last">create_func_preproc() missing 3 required positional arguments: ‘skullstrip_tool’, ‘motion_correct_tool’, and ‘motion_correct_ref’</p>
</div>
<p>High Level Workflow Graph:</p>
<a class="reference internal image-reference" href="developer/workflows/../images/generated/func_preproc.png"><img alt="developer/workflows/../images/generated/func_preproc.png" src="developer/workflows/../images/generated/func_preproc.png" style="width: 1000px;" /></a>
<p>Detailed Workflow Graph:</p>
<a class="reference internal image-reference" href="developer/workflows/../images/generated/func_preproc_detailed.png"><img alt="developer/workflows/../images/generated/func_preproc_detailed.png" src="developer/workflows/../images/generated/func_preproc_detailed.png" style="width: 1000px;" /></a>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">func_preproc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">preproc</span> <span class="o">=</span> <span class="n">create_func_preproc</span><span class="p">(</span><span class="n">bet</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">preproc</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">inputspec</span><span class="o">.</span><span class="n">func</span><span class="o">=</span><span class="s1">&#39;sub1/func/rest.nii.gz&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">preproc</span><span class="o">.</span><span class="n">run</span><span class="p">()</span> <span class="c1">#doctest: +SKIP</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">func_preproc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">preproc</span> <span class="o">=</span> <span class="n">create_func_preproc</span><span class="p">(</span><span class="n">bet</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">preproc</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">inputspec</span><span class="o">.</span><span class="n">func</span><span class="o">=</span><span class="s1">&#39;sub1/func/rest.nii.gz&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">preproc</span><span class="o">.</span><span class="n">run</span><span class="p">()</span> <span class="c1">#doctest: +SKIP</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="CPAC.func_preproc.get_idx">
<code class="descclassname">CPAC.func_preproc.</code><code class="descname">get_idx</code><span class="sig-paren">(</span><em>in_files</em>, <em>stop_idx=None</em>, <em>start_idx=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/CPAC/func_preproc/func_preproc#get_idx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#CPAC.func_preproc.get_idx" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to get the first and the last slice for
the functional run. It verifies the user specified
first and last slice. If the values are not valid, it
calculates and returns the very first and the last slice</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>in_file</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string (nifti file)</span></dt>
<dd><p class="first last">Path to input functional run</p>
</dd>
<dt><strong>stop_idx</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first last">Last volume to be considered, specified by user
in the configuration file</p>
</dd>
<dt><strong>stop_idx</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first last">First volume to be considered, specified by user
in the configuration file</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>stop_idx</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first last">Value of first slice to consider for the functional run</p>
</dd>
<dt><strong>start_idx</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first last">Value of last slice to consider for the functional run</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index">
              <img class="logo" src="../../_static/cpac_logo_vertical.png" alt="Logo"/>
            </a></p>
  <h3><a href="../../index">Table of Contents</a></h3>
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../user/index">User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index">Welcome to CPAC’s developer documentation!</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../installation">Installing CPAC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../workflow_documentation">Workflow Documentation</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index">Workflows</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="cpac_pipeline">C-PAC Pipeline Construction</a></li>
<li class="toctree-l3"><a class="reference internal" href="anat_preproc">Anatomical Preprocessing</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Functional Preprocessing</a></li>
<li class="toctree-l3"><a class="reference internal" href="seg_preproc">Segmentation Workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="sca">Seed Based Correlation Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="basc">Bootstrap Analysis of Stable Clusters</a></li>
<li class="toctree-l3"><a class="reference internal" href="nuisance">Nuisance Signal Removal</a></li>
<li class="toctree-l3"><a class="reference internal" href="alff">Amplitude of Low Frequency Fluctuations(ALFF) and fractional ALFF</a></li>
<li class="toctree-l3"><a class="reference internal" href="vmhc">Voxel Mirrored Homotopic Connectivity Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="reho">Regional Homogeneity Approach to fMRI data analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="generate_motion_statistics">Generate Motion and Power Statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="scrubbing">Scrubbing</a></li>
<li class="toctree-l3"><a class="reference internal" href="group_analysis">Group Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="easy_thresh">Easy thresh</a></li>
<li class="toctree-l3"><a class="reference internal" href="mdmr">Multivariate Distance Matrix Regression (MDMR)</a></li>
<li class="toctree-l3"><a class="reference internal" href="median_angle">Median Angle Correction</a></li>
<li class="toctree-l3"><a class="reference internal" href="registration">Registration</a></li>
<li class="toctree-l3"><a class="reference internal" href="timeseries">Timeseries Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="network_centrality">Network Centrality</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index#indices-and-tables">Indices and tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing">Testing CPAC</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../index#indices-and-tables">Indices and tables</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="seg_preproc" title="Segmentation Workflow"
             >next</a> |</li>
        <li class="right" >
          <a href="anat_preproc" title="Anatomical Preprocessing"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index">C-PAC 1.7.0 Beta documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index" >Welcome to CPAC’s developer documentation!</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index" >Workflows</a> &#187;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, C-PAC Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.4.
    </div>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-19224662-10"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-19224662-10');
    </script>
    <script defer src="https://fcp-indi.github.io/scripts/versionList.js"></script>

  </body>
</html>